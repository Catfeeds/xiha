<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <!--[if lt IE 9]>
<script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/html5.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/respond.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/PIE_IE678.js"></script>
<![endif]-->
    <link href="__PUBLIC__/Admin/assets/css/H-ui.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Admin/assets/css/jquery-ui.css" />
    <link href="__PUBLIC__/Admin/assets/css/H-ui.admin.css" rel="stylesheet" type="text/css" />
    <!-- <link href="__PUBLIC__/Admin/assets/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" /> -->
    <link href="__PUBLIC__/Admin/assets/lib/icheck/icheck.css" rel="stylesheet" type="text/css" />
    <link href="__PUBLIC__/Admin/assets/lib/Hui-iconfont/1.0.6/iconfont.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Admin/assets/css/select2.css">
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Admin/assets/css/select2-bootstrap.css">
    <link rel="stylesheet" href="__PUBLIC__/Admin/assets/umeditor/themes/default/css/umeditor.css">

    <!--[if IE 6]>
<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
    <title>编辑商品</title>
</head>

<body>
    <div class="pd-20">
        <form action="{:U('Coin/editCoinGoods')}" method="post" class="form form-horizontal" id="addCoinGoods">
            <input class="input-text" type="hidden" name="id" value="{$coingoodslist.id}" />
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品类型：</label>
                <div class="formControls col-2">
                    <select class="form-control" select2 ng-model="b" name="cate_id" id="cate_id" placeholder="{$coingoodslist.cate_name}">
						<if condition="$coingoodslist.cate_name neq ''">
							<option value="{$coingoodslist.cateid}">{$coingoodslist.cate_name}</option>
						</if>
						<foreach name="coingoodscate" item="value">
							<option value="{$value.id}">{$value.cate_name}</option>
						</foreach>
					</select>
                </div>
            </div>

            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品名称：</label>
                <div class="formControls col-2">
                    <input class="input-text" type="text" name="goods_name" value="{$coingoodslist.goods_name}" placeholder="请填写商品名称" datatype="*1-16" nullmsg="商品名称不能为空！" />
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2">排序：</label>
                <div class="formControls col-2">
                    <input type="button" value="-" onclick="sub(this)" class="btn btn-warning" style="border-radius:0px;">
                    <input class="input-text" value="{$coingoodslist.order}" type="text" name="order" placeholder="请填写商品排序" style="width:165px;height:30px;text-align:center" />
                    <input type="button" value="+" onclick="add(this)" class="btn btn-warning" style="border-radius:0px;">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>原嘻哈币数：</label>
                <div class="formControls col-2">
                    <input type="button" value="-" onclick="subNum(this)" class="btn btn-warning" style="border-radius:0px;">
                    <input class="input-text" value="{$coingoodslist.goods_original_price}" name="goods_original_price" datatype="*1-32" placeholder="请填写商品原嘻哈币数" nullmsg="商品原嘻哈币数不能为空！" style="width:165px;height:30px;text-align:center">
                    <input type="button" value="+" onclick="addNum(this)" class="btn btn-warning" style="border-radius:0px;">
                    <!--<input class="input-text" type="text" name="goods_original_price" placeholder="请填写商品原嘻哈币数" datatype="*2-16" nullmsg="商品原嘻哈币数不能为空！" />-->
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>最终嘻哈币数：</label>
                <div class="formControls col-2">
                    <input type="button" value="-" onclick="subNum(this)" class="btn btn-warning" style="border-radius:0px;">
                    <input class="input-text" value="{$coingoodslist.goods_final_price}" name="goods_final_price" placeholder="请填写商品最终嘻哈币数" datatype="*1-16" nullmsg="商品最终嘻哈币数不能为空！" style="width:165px;height:30px;text-align:center" />
                    <input type="button" value="+" onclick="addNum(this)" class="btn btn-warning" style="border-radius:0px;">
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品真实价格：</label>
                <div class="formControls col-2">
                    <input type="button" value="-" onclick="sub(this)" class="btn btn-warning" style="border-radius:0px;">
                    <input class="input-text" value="{$coingoodslist.goods_real_price}" type="text" name="goods_real_price" placeholder="请填写商品真实价格" datatype="*2-16" nullmsg="商品真实价格不能为空！" style="width:150px;height:30px;text-align:center" />
                    <input type="button" value="+" onclick="add(this)" class="btn btn-warning" style="border-radius:0px;"> 元
                </div>
            </div>

            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品总数：</label>
                <div class="formControls col-2">
                    <input type="button" value="-" onclick="sub(this)" class="btn btn-warning" style="border-radius:0px;">
                    <input class="input-text" value="{$coingoodslist.goods_total_num}" type="text" name="goods_total_num" placeholder="请填写商品总数" datatype="*1-16" nullmsg="商品总数不能为空！" style="width:150px;height:30px;text-align:center" />
                    <input type="button" value="+" onclick="add(this)" class="btn btn-warning" style="border-radius:0px;"> 个
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2">是否热销：</label>
                <div class="formControls col-6 btn-group">
                    <if condition="$coingoodslist.is_hot eq 1">
                        <label class="btn radius btn-success radio setstatus"><input name="is_hot" value="1" checked type="radio" style="display:none;">是</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_hot" value="1" type="radio" style="display:none;">是</label>
                    </if>
                    <if condition="$coingoodslist.is_hot eq 2">
                        <label class="btn radius btn-success radio setstatus"><input name="is_hot" value="2" checked type="radio" style="display:none;">否</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_hot" value="2" type="radio" style="display:none;">否</label>
                    </if>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2">是否推荐：</label>
                <div class="formControls col-6 btn-group">
                    <if condition="$coingoodslist.is_recommend eq 1">
                        <label class="btn radius btn-success radio setstatus"><input name="is_recommend" value="1" checked type="radio" style="display:none;">是</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_recommend" value="1" type="radio" style="display:none;">是</label>
                    </if>
                    <if condition="$coingoodslist.is_recommend eq 2">
                        <label class="btn radius btn-success radio setstatus"><input name="is_recommend" value="2" checked type="radio" style="display:none;">否</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_recommend" value="2" type="radio" style="display:none;">否</label>
                    </if>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2">是否促销：</label>
                <div class="formControls col-6 btn-group">
                    <if condition="$coingoodslist.is_promote eq 1">
                        <label class="btn radius btn-success radio setstatus"><input name="is_promote" value="1" checked type="radio" style="display:none;">是</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_promote" value="1" type="radio" style="display:none;">是</label>
                    </if>
                    <if condition="$coingoodslist.is_promote eq 2">
                        <label class="btn radius btn-success radio setstatus"><input name="is_promote" value="2" checked type="radio" style="display:none;">否</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_promote" value="2" type="radio" style="display:none;">否</label>
                    </if>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2">是否发布：</label>
                <div class="formControls col-6 btn-group">
                    <if condition="$coingoodslist.is_publish eq 1">
                        <label class="btn radius btn-success radio setstatus"><input name="is_publish" value="1" checked type="radio" style="display:none;">是</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_publish" value="1" type="radio" style="display:none;">是</label>
                    </if>
                    <if condition="$coingoodslist.is_publish eq 2">
                        <label class="btn radius btn-success radio setstatus"><input name="is_publish" value="2" checked type="radio" style="display:none;">否</label>
                        <else/>
                        <label class="btn radius btn-warning-outline radio setstatus"><input name="is_publish" value="2" type="radio" style="display:none;">否</label>
                    </if>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>过期时间：</label>
                <div class="formControls col-2">
                    <div class="demo">
                        <input type="text" id="expiretime" name="expiretime" style="height:30px;" datatype="*1-32" nullmsg="过期时间不能为空" class="input-text date_picker laydate-icon" value="{$coingoodslist.goods_expiretime}" placeholder="请选择到期时间" readonly />
                    </div>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品简介：</label>
                <div class="formControls col-6">
                    <textarea name="goods_desc" style="height: 300px" id="goods_desc" cols="" rows="" class="textarea" placeholder="说点什么...最少输入1个字符" datatype="*1-200" dragonfly="true" nullmsg="商品简介不能为空！" onKeyUp="textarealength(this,1000)">{$coingoodslist.goods_desc}</textarea>
                    <p class="textarea-numberbar"><em class="textarea-length">0</em>/200</p>
                </div>
            </div>
            <div class="row cl">
                <label class="form-label col-2"><span class="c-red">*</span>商品详情：</label>
                <div class="formControls col-6">
                    <textarea name="goods_detail" style="height: 300px" id="goods_detail" cols="" rows="" class="textarea" placeholder="说点什么...最少输入1个字符" datatype="*1-500" dragonfly="true" nullmsg="商品详情不能为空" onKeyUp="textarealength(this,1000)">{$coingoodslist.goods_detail}</textarea>
                    <p class="textarea-numberbar"><em class="textarea-length">0</em>/500</p>

                </div>
            </div>

            <div class="row cl">
                <div class="col-8 col-offset-2">
                    <button id="submitOne" class="btn btn-primary radius" type="submit"><i class="Hui-iconfont">&#xe632;</i> 保存并提交</button>
                    <button onClick="layer_close();" class="btn btn-default radius" type="button">&nbsp;&nbsp;取消&nbsp;&nbsp;</button>
                </div>
            </div>
        </form>
    </div>
    </div>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/laydate.dev.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/jquery/2.1.1/jquery.min.js"></script>
    <!--<script type="text/javascript" src="__PUBLIC__/Admin/assets/js/jquery-ui-datepicker.js"></script>-->
    <!--<script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/icheck/jquery.icheck.min.js"></script>-->
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/Validform/5.3.2/Validform.min.js"></script>
    <!--<script type="text/javascript" src="__PUBLIC__/Admin/assets/lib/layer/2.1/layer.js"></script>-->
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/js/H-ui.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/js/H-ui.admin.js"></script>
    <!--<script type="text/javascript" src="__PUBLIC__/Admin/assets/js/jquery.form.min.js"></script>-->
    <!--<script type="text/javascript" src="__PUBLIC__/Admin/assets/js/bootstrap.min.js"></script>-->
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/js/angular.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/js/select2.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/js/selectindex.js"></script>
    <script type="text/javascript" charset="utf-8" src="__PUBLIC__/Admin/assets/umeditor/umeditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="__PUBLIC__/Admin/assets/umeditor/umeditor.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/Admin/assets/umeditor/lang/zh-cn/zh-cn.js"></script>
    <script type="text/javascript">
        $(function() {
            // 加载编辑器
            var _um = UM.getEditor('goods_desc');
            var _UM = UM.getEditor('goods_detail');
        });

        // 添加与减少
        function subNum(obj) {
            var temp = parseInt(obj.nextElementSibling.value);
            if (temp > 1) {
                temp -= 100;
                obj.nextElementSibling.value = temp;
            }
        }

        function addNum(obj) {
            var temp = parseInt(obj.previousElementSibling.value);
            temp += 100;
            obj.previousElementSibling.value = temp;
        }

        function sub(obj) {
            var temp = parseInt(obj.nextElementSibling.value);
            if (temp > 1) {
                temp -= 10;
                obj.nextElementSibling.value = temp;
            }
        }

        function add(obj) {
            var temp = parseInt(obj.previousElementSibling.value);
            temp += 10;
            obj.previousElementSibling.value = temp;
        }

        // 日期选择器
        $(function() {
            laydate({
                elem: '#expiretime',
                format: 'YYYY-MM-DD hh:mm:ss', //日期格式
                min: laydate.now(),
                max: '2099-12-31 23:59:59', //最大日期
                istime: true //是否开启时间选择
            });
            laydate.skin('danlan');
        })

        // 表单验证
        $(function() {
            // $('#submitOne').click(function() {
            //   var cate = $('#cate_id').val();
            //   if (!cate) {
            //     alert('请选择商品分类名称');
            //     return false;
            //   }
            // })
            $('#addCoinGoods').Validform({
                tiptype: 2,
                callback: function(form) {
                    form[0].submit();
                }
            });
        })

        /*
         * 按钮的切换
         * 点击切换效果
         */
        $('.btn-group .setstatus input').click(function() {
            var current = $(this).parent();
            var siblings = $(this).parent().siblings();
            current.removeClass("btn-warning-outline").addClass("btn-success");
            siblings.removeClass("btn-success").addClass("btn-warning-outline");
        });
    </script>
</body>

</html>